<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
<org.eventb.core.prProof name="INITIALISATION/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="passengers0'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees passengers0')" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prIdent name="passengers0'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="p3,p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·⊤⇒finite(passengers')"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·finite(passengers')"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(passengers0')">
<org.eventb.core.prIdent name="passengers0'" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·passengers'⊆Users⇒finite(passengers')"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/act1/FIS" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8,p9,p10,p11"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst ∅,∅)" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p19">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p3,p1,p2,p7,p9,p10,p13,p16">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0,e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="card(∅ ⦂ ℙ(Users))≤n∧(∅ ⦂ ℙ(Users))⊆(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·finite(passengers')"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∃passengers'⦂ℙ(Users),leaving_passengers'⦂ℙ(Users)·passengers'⊆Users∧card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="passengers'⊆Users⇒finite(passengers')"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="⊤⇒finite(passengers')"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="passengers'∩waiting'=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∃passengers'⦂ℙ(Users),leaving_passengers'⦂ℙ(Users)·card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="passengers'⊆Users"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="waiting'⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∃passengers'⦂ℙ(Users),leaving_passengers'⦂ℙ(Users)·⊤∧card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="0≤n"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧waiting'⊆Users∧passengers'∩waiting'=(∅ ⦂ ℙ(Users))∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(passengers')"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·passengers'⊆Users⇒finite(passengers')"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀passengers'⦂ℙ(Users)·⊤⇒finite(passengers')"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(passengers')≤n"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="∅ ⦂ ℙ(Users)"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.exI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/act1/SIM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p1" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="passengers'⊆Users"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="card(passengers')≤n"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧(∅ ⦂ ℙ(Users))⊆Users∧passengers'∩(∅ ⦂ ℙ(Users))=(∅ ⦂ ℙ(Users))∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="0∈ℕ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Users×ℤ))∈Users ⇸ ℕ"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="1∈ℕ1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/grd6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="p19,p16,p17" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p19,p16,p15,p17" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p36">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p12"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p36,p46,p47">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p3,p10,p12,p5,p6,p15,p8,p14,p9,p2,p1,p17,p11,p7,p19,p25,p26,p27,p33,p36,p46,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p3,p10,p12,p5,p6,p15,p8,p14,p9,p2,p1,p17,p11,p7,p19,p25,p26,p27,p33,p36,p46,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p3,p10,p12,p5,p6,p15,p8,p14,p9,p2,p1,p17,p11,p7,p19,p25,p26,p27,p33,p36,p46,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="waiting_user∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="w∈waiting">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="⊤⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒waiting_user∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="w∈waiting⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧waiting_user∈dom(priority)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="w∈dom(priority)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="w∈dom(priority)∧priority∈Users ⇸ ℤ∧waiting_user∈dom(priority)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬w=waiting_user">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒waiting_user∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧waiting_user∈dom(priority)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="w∈Users">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="priority(w)=priority(waiting_user)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="(∀w⦂Users·w∈waiting⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧waiting_user∈dom(priority))∧(∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒waiting_user∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="waiting_user∈Users"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀w⦂Users·(w∈waiting⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧waiting_user∈dom(priority))∧(w∈waiting∧priority(w)=priority(waiting_user)∧w≠waiting_user⇒waiting_user∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="priority∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="waiting_user∈dom(f)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="waiting_user∈dom(priority)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((⊤∧⊤⇒⊤)∧((⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="Users"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="put/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p9,p10,p4,p5,p11,p7,p2,p12,p1,p13,p16,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="f∈Users → ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="f{u ↦ counter}∈Users → ℕ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="put/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p4">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="new" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="new∈ℕ1"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="new+1∈ℕ1"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p1,p2">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="1+1≥2"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="put/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p15" org.eventb.core.prHyps="p1,p8,p9,p3,p4,p10,p5,p12,p11,p2,p6,p13,p14">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(ℤ×Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="new" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="old" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="new∈ℕ1"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(new+1)+1≥old"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="new+1+1≥old"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="new+1≥old"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="f∈old ‥ new → Users"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="old∈ℕ1"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="0∈0 ‥ 1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv6/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p2" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv6/THM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p7">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with finished=1" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p12">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with finished=1" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="1∈0 ‥ 1"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting⊆Users">
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finished=1"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="card(passengers)=n∨Users⊆passengers"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="bus_leaving/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="bus_leaving/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="p22,p20" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="p22,p17" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with finished=0" org.eventb.core.prHyps="p19">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p19,p22,p27,p28,p29,p30,p31,p36,p37">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="1∈0 ‥ 1"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="card(passengers)=n∨Users⊆passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="0∈0 ‥ 1"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧⊤)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ (passengers∪gone_passengers)=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finished=0"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="card(passengers)=n∨Users ∖ (passengers∪gone_passengers)=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((⊤∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((⊤∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p6" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="passengers'⊆Users"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="card(passengers')≤n"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="0=1⇒leaving_passengers'=(∅ ⦂ ℙ(Users))∧(card(passengers')=n∨Users ∖ passengers'=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="0=1∧leaving_passengers'=(∅ ⦂ ℙ(Users))⇒finite(passengers')"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="leave_one/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p15" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finished=1⇒leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧(card(passengers ∖ {p})=n∨Users ∖ (passengers ∖ {p})=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="finished=1∧leaving_passengers⊆{p}⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊥∧leaving_passengers⊆{p}⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊥⇒leaving_passengers⊆{p}∧card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬finished=1"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="finished=1∧leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finished=1⇒leaving_passengers⊆{p}∧card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finished=1⇒⊥∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p17,p16" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="p17,p13" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p32">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p4,p10,p12,p5,p6,p13,p9,p3,p1,p2,p17,p16,p11,p8,p24,p25,p32,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finished=1⇒⊤∧(card(passengers∪{waiting_user})=n∨Users ∖ (passengers∪{waiting_user})=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="finished=1⇒card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)⇒f(waiting_user)≤f(w)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)⇒¬f(waiting_user)&gt;f(w)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="⊤⇒Users⊆passengers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers∪{waiting_user})"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="finished=1⇒⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finished=1⇒Users⊆passengers"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finished=1∧⊤⇒finite(passengers∪{waiting_user})"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="finished=1⇒⊤"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="Users⊆passengers"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="finished=1⇒finite(passengers)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="finished=1∧⊤⇒⊤"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="finished=1"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers∪{waiting_user})=n∨Users ∖ (passengers∪{waiting_user})=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="bus_leaving/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p2,p1" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p2,p7" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="p2,p7" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="1=1⇒⊤∧⊤"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finished=1⇒⊤∧⊤">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="1=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="1=1∧⊤⇒⊤"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="1=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finished=1∧⊤⇒⊤">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="card(passengers)=n∨Users⊆passengers"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="put/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p3,p9,p10,p4,p5,p11,p7,p2,p12,p1,p13,p16,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="f∈Users → ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="counter+1∈ℕ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="counter+1∈ℕ"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p35">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="f{u ↦ counter}∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/waiting/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers)">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers)">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="u∈waiting"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finished=1⇒leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users)))">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Users⊆waiting∪passengers">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished=1∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="waiting∪{u}=waiting"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀w⦂Users·w∈(∅ ⦂ ℙ(Users))⇒w∈dom(∅ ⦂ ℙ(Users×ℤ))"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p14,p22,p13" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="p14,p22,p12,p13" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p43">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p3,p7,p9,p5,p17,p12,p19,p11,p20,p15,p1,p2,p16,p6,p13,p21,p18,p14,p31,p32,p33,p34,p35,p36,p41,p43">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀w⦂Users·w∈waiting ∖ {waiting_user}⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="w∈waiting ∖ {waiting_user}">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="w∈waiting ∖ {waiting_user}⇒w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((⊤∧⊤⇒⊤)∧((⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧w≠waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p37">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p35,p37">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="w∈waiting∪{u}⇒w∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="w∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="w∈waiting∪{u}">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀w⦂Users·w∈waiting∪{u}⇒w∈dom(f{u ↦ counter})"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p2" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/DLF/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8,p9"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p4,p1,p3,p8,p9,p14">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="passengers'⊆Users⇒finite(passengers')"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒finite(passengers')"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers'≠(∅ ⦂ ℙ(Users))∨(leaving_passengers'=(∅ ⦂ ℙ(Users))∧(∅ ⦂ ℙ(Users))≠(∅ ⦂ ℙ(Users))∧card(passengers')&lt;n)∨Users ∖ ((∅ ⦂ ℙ(Users))∪passengers')≠(∅ ⦂ ℙ(Users))∨(leaving_passengers'=(∅ ⦂ ℙ(Users))∧(card(passengers')=n∨Users ∖ passengers'=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers'⊆Users"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="leaving_passengers'=(∅ ⦂ ℙ(Users))⇒finite(passengers')"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(passengers')"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊥∨((leaving_passengers'=(∅ ⦂ ℙ(Users))∧(∅ ⦂ ℙ(Users))≠(∅ ⦂ ℙ(Users))⇒finite(passengers'))∧(⊥∨⊥∨(leaving_passengers'=(∅ ⦂ ℙ(Users))⇒finite(passengers'))))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬leaving_passengers'=(∅ ⦂ ℙ(Users))∨¬Users⊆passengers'∨(leaving_passengers'=(∅ ⦂ ℙ(Users))∧(card(passengers')=n∨Users⊆passengers'))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers'⊆passengers'"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers')≤n"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="leaving_passengers'≠(∅ ⦂ ℙ(Users))∨((leaving_passengers'=(∅ ⦂ ℙ(Users))∧(∅ ⦂ ℙ(Users))≠(∅ ⦂ ℙ(Users))⇒finite(passengers'))∧((leaving_passengers'=(∅ ⦂ ℙ(Users))∧(∅ ⦂ ℙ(Users))≠(∅ ⦂ ℙ(Users))∧card(passengers')&lt;n)∨Users ∖ ((∅ ⦂ ℙ(Users))∪passengers')≠(∅ ⦂ ℙ(Users))∨(leaving_passengers'=(∅ ⦂ ℙ(Users))⇒finite(passengers'))))"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="leave_one/DLF/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="p13,p11" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21,p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p34">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p34">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p45">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p4,p9,p10,p6,p7,p11,p8,p3,p1,p2,p5,p14,p20,p29,p34,p42,p45">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬leaving_passengers⊆{p}∨(leaving_passengers⊆{p}∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨¬Users⊆waiting∪(passengers ∖ {p})∨(leaving_passengers⊆{p}∧card(passengers ∖ {p})=n)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="⊤∧¬waiting=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers⊆{p}⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="leaving_passengers⊆{p}⇒(leaving_passengers⊆{p}∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨¬Users⊆waiting∪(passengers ∖ {p})∨(leaving_passengers⊆{p}∧card(passengers ∖ {p})=n)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬¬waiting=(∅ ⦂ ℙ(Users))∨¬card(passengers ∖ {p})&lt;n⇒¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="waiting=(∅ ⦂ ℙ(Users))∨card(passengers ∖ {p})≥n"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬finished=1"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬(¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)⇒¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="leaving_passengers ∖ {p}≠(∅ ⦂ ℙ(Users))∨((leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p}))∧((leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨Users ∖ (waiting∪(passengers ∖ {p}))≠(∅ ⦂ ℙ(Users))∨(leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p}))))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="(¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="waiting=(∅ ⦂ ℙ(Users))∨card(passengers ∖ {p})≥n⇒¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒⊤"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="leaving_passengers⊆{p}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="(⊤∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨¬Users⊆waiting∪(passengers ∖ {p})∨(⊤∧card(passengers ∖ {p})=n)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="waiting=(∅ ⦂ ℙ(Users))∨¬card(passengers ∖ {p})&lt;n⇒¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers ∖ {p}≠(∅ ⦂ ℙ(Users))∨(leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨Users ∖ (waiting∪(passengers ∖ {p}))≠(∅ ⦂ ℙ(Users))∨(leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧(card(passengers ∖ {p})=n∨Users ∖ (passengers ∖ {p})=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="(leaving_passengers⊆{p}∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers ∖ {p})&lt;n)∨¬Users⊆waiting∪(passengers ∖ {p})∨(leaving_passengers⊆{p}∧card(passengers ∖ {p})=n)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="leaving_passengers⊆{p}∧¬waiting=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="⊥∨((leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p}))∧(⊥∨⊥∨(leaving_passengers ∖ {p}=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p}))))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finished=1⇒⊥∧(card(passengers)=n∨Users⊆passengers)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="Users⊆waiting∪(passengers ∖ {p})⇒card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="Users⊆waiting∪(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="⊤∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="⊤⇒finite(passengers ∖ {p})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Users⊆waiting∪(passengers ∖ {p})∨card(passengers ∖ {p})=n"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="p∈leaving_passengers"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.disjToImplRewrites"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/DLF/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="p17,p15,p16" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="p17,p15,p13,p16" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p26,p8"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p40">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p43">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p46">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ hyp (waiting⊆{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})≥n)" org.eventb.core.prHyps="p40">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p48">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p1,p2,p48,p46,p3,p4,p26,p43,p5,p6,p7,p8,p9,p10,p11,p25,p12,p13,p16,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p50">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p51"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting ∖ {waiting_user}≠(∅ ⦂ ℙ(Users))∧card(passengers∪{waiting_user})&lt;n)∨Users ∖ ((waiting ∖ {waiting_user})∪(passengers∪{waiting_user}))≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers∪{waiting_user})=n∨Users ∖ (passengers∪{waiting_user})=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="waiting⊆{waiting_user}"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)⇒f(waiting_user)≤f(w)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬⊤∨(¬waiting⊆{waiting_user}∧card(passengers)+1 − card(passengers∩{waiting_user})&lt;n)∨¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="(¬waiting⊆{waiting_user}∧card(passengers)+1 − card(passengers∩{waiting_user})&lt;n)∨¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(¬waiting⊆{waiting_user}∧card(passengers)+1 − card(passengers∩{waiting_user})&lt;n)∨¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="⊥∨((⊤∧⊤⇒⊤)∧((⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)⇒¬f(waiting_user)&gt;f(w)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬(¬waiting⊆{waiting_user}∧card(passengers)+1 − card(passengers∩{waiting_user})&lt;n)⇒¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting ∖ {waiting_user}≠(∅ ⦂ ℙ(Users))⇒finite(passengers∪{waiting_user}))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting ∖ {waiting_user}≠(∅ ⦂ ℙ(Users))∧card(passengers∪{waiting_user})&lt;n)∨Users ∖ ((waiting ∖ {waiting_user})∪passengers∪{waiting_user})≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers∪{waiting_user}))))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="waiting⊆{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})≥n"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="waiting⊆{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})≥n⇒¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬waiting⊆{waiting_user}⇒⊤"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="⊤∨card(passengers)+1 − card(passengers∩{waiting_user})≥n"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬waiting⊆{waiting_user}⇒finite(passengers)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬⊤∨⊤"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="waiting⊆{waiting_user}∨¬card(passengers)+1 − card(passengers∩{waiting_user})&lt;n⇒¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="⊥∨(⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬card(passengers)+1 − card(passengers∩{waiting_user})=n"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧waiting ∖ {waiting_user}≠(∅ ⦂ ℙ(Users))∧card(passengers∪{waiting_user})&lt;n)∨Users ∖ ((waiting ∖ {waiting_user})∪(passengers∪{waiting_user}))≠(∅ ⦂ ℙ(Users))∨(⊤∧(card(passengers∪{waiting_user})=n∨Users ∖ (passengers∪{waiting_user})=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="card(passengers)+1 − card(passengers∩{waiting_user})≥n"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}⇒card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨finite(passengers)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬¬waiting⊆{waiting_user}∨¬card(passengers)+1 − card(passengers∩{waiting_user})&lt;n⇒¬Users⊆(waiting ∖ {waiting_user})∪passengers∪{waiting_user}∨card(passengers)+1 − card(passengers∩{waiting_user})=n∨Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊥∨((⊤∧waiting ∖ {waiting_user}≠(∅ ⦂ ℙ(Users))⇒finite(passengers∪{waiting_user}))∧(⊥∨Users ∖ ((waiting ∖ {waiting_user})∪passengers∪{waiting_user})≠(∅ ⦂ ℙ(Users))∨(⊤⇒finite(passengers∪{waiting_user}))))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬card(passengers)+1 − card(passengers∩{waiting_user})=n⇒Users⊆passengers∪{waiting_user}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="waiting⊆{waiting_user}∨⊤"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.disjE"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.disjToImplRewrites"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/DLF/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p6,p3" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p12"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨⊥"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪{u}∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting∪{u}≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ ((waiting∪{u})∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="⊥∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting∪{u}≠(∅ ⦂ ℙ(Users))⇒⊤)∧(⊥∨Users ∖ (waiting∪{u}∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting∪{u}≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting∪{u}≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪{u}∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="bus_leaving/DLF/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5,p2,p1" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p2,p8,p5" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p2,p8" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p15">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p17"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(finished=0∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="(¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊥∨((⊤∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧(⊥∨⊥∨(1=0∧⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(finished=0∧leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(1=0∧leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(1=0∧leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="⊥∨((⊤∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧(⊥∨⊥∨(⊤∧⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬⊤∨(¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finished=0">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(1=0∧⊤∧⊤)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∨⊥∨⊥∨(⊤∧⊤∧⊤)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="card(passengers)=n∨Users⊆passengers"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (card(passengers)≤n)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p6">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p6" org.eventb.core.prHyps="p6"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p6">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p9"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p6,p9">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p22">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p24">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p22">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∨ to ⇒ in goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p31">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p33">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p7,p1,p4,p10,p9,p6,p11,p5,p2,p3,p8,p22,p28,p31,p33">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p9"/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))⇒(¬(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)⇒¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers)))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Users⊆waiting∪passengers∨(¬card(passengers)=n⇒Users⊆passengers)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))⇒(¬leaving_passengers=(∅ ⦂ ℙ(Users))∨¬¬waiting=(∅ ⦂ ℙ(Users))∨¬card(passengers)&lt;n⇒¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))⇒(¬leaving_passengers=(∅ ⦂ ℙ(Users))∨waiting=(∅ ⦂ ℙ(Users))∨¬card(passengers)&lt;n⇒¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers)))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨waiting=(∅ ⦂ ℙ(Users))∨card(passengers)≥n⇒¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊥∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧(⊥∨⊥∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Users⊆waiting∪passengers∨(⊤∧(¬card(passengers)=n⇒Users⊆passengers))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨waiting=(∅ ⦂ ℙ(Users))∨card(passengers)≥n"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬⊤∨waiting=(∅ ⦂ ℙ(Users))∨card(passengers)≥n"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="Users⊆passengers"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))⇒(¬leaving_passengers=(∅ ⦂ ℙ(Users))∨waiting=(∅ ⦂ ℙ(Users))∨card(passengers)≥n⇒¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))⇒(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(¬card(passengers)=n⇒Users⊆passengers))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="waiting=(∅ ⦂ ℙ(Users))∨card(passengers)≥n"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬card(passengers)=n⇒Users⊆passengers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Users⊆waiting∪passengers⇒(¬card(passengers)=n⇒Users⊆passengers)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬card(passengers)=n"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.disjToImplRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv8/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u,v" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p3"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u,v)" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p11,p12,p13">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="u∈dom(f)∧v∈dom(f)∧¬u=v⇒f∈Users ⇸ ℤ">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="v∈dom(f)">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬u=v">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="waiting⊆Users">
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(∅ ⦂ ℙ(Users×ℤ))∧v∈dom(∅ ⦂ ℙ(Users×ℤ))∧u≠v⇒(∅ ⦂ ℙ(Users×ℤ))(u)≠(∅ ⦂ ℙ(Users×ℤ))(v)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="v,u0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u0,v)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p38,p39,p40">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p44">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with u0=u" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p38,p40"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p46"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p50">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with u0=u" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p38,p40"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p11,p3,p1,p2,p5,p10,p21,p26,p27,p28,p29,p30,p36,p38,p39,p40,p42,p50,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p54">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p44">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with v=u" org.eventb.core.prHyps="p44">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p11,p3,p1,p2,p5,p10,p21,p26,p27,p28,p29,p30,p36,p38,p39,p40,p54,p44,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p50">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p11,p3,p1,p2,p5,p10,p21,p26,p27,p28,p29,p30,p36,p38,p39,p40,p54,p50">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬v=u">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u0⦂Users·∀v⦂Users·u0∈dom(f{u ↦ counter})∧v∈dom(f{u ↦ counter})∧u0≠v⇒(f{u ↦ counter})(u0)≠(f{u ↦ counter})(v)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="u0=u">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬({u} ⩤ f)(u0)=({u} ⩤ f)(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬u0=u">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬u=v">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="v∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬(f{u ↦ counter})(u0)=(f{u ↦ counter})(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬u0=v">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬f(u0)=f(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u0∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="u∈dom(f{u ↦ counter})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬f(u0)=({u} ⩤ f)(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬counter=counter"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬counter=({u} ⩤ f)(v)">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬counter=f(v)">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="v=u">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬counter=(f{u ↦ counter})(v)">
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬f(u0)=counter">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u0⦂Users,v⦂Users·u0∈dom(f{u ↦ counter})∧v∈dom(f{u ↦ counter})∧¬u0=v⇒¬(f{u ↦ counter})(u0)=(f{u ↦ counter})(v)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬({u} ⩤ f)(u0)=(f{u ↦ counter})(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u0∈dom(f{u ↦ counter})∧v∈dom(f{u ↦ counter})∧¬u0=v⇒¬(f{u ↦ counter})(u0)=(f{u ↦ counter})(v)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="v" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬({u} ⩤ f)(u0)=counter">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv9/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p3"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p3"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p12">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="waiting⊆Users">
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="u∈dom(f)⇒f∈Users ⇸ ℤ">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·u∈dom(∅ ⦂ ℙ(Users×ℤ))⇒0&gt;(∅ ⦂ ℙ(Users×ℤ))(u)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u0)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p37">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p39">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with u0=u" org.eventb.core.prHyps="p39">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p35,p37,p39,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p35,p37,p42">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="counter+1&gt;(f{u ↦ counter})(u0)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="u0=u">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="counter+1&gt;f(u0)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬u0=u">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="u0∈dom(f{u ↦ counter})⇒counter+1&gt;(f{u ↦ counter})(u0)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u0∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="u∈dom(f{u ↦ counter})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="counter+1&gt;counter"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u0⦂Users·u0∈dom(f{u ↦ counter})⇒counter+1&gt;(f{u ↦ counter})(u0)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="counter+1&gt;({u} ⩤ f)(u0)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv10/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u,E,w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E)" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p31,p32">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u)" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p35">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p38,p39">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p4,p11,p13,p6,p7,p16,p8,p15,p9,p3,p1,p2,p5,p10,p21,p22,p23,p29,p31,p32,p35,p38,p39">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p4,p11,p13,p6,p7,p16,p8,p15,p9,p3,p1,p2,p5,p10,p21,p22,p23,p29,p31,p32,p35,p38,p39">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="w∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬w=u">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬E=(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="u∈E⇒(∀w⦂Users·w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="E⊆waiting">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀w⦂Users·w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E∧w≠u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="u∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="w∈E∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv10/THM" org.eventb.core.confidence="0" org.eventb.core.prFresh="E" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p10">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E)" org.eventb.core.prGoal="p10" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p18,p19"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬E=(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="gone_passengers⊆Users">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="E⊆waiting">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/grd1/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p6,p3" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)">
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·u∈Users⇒w∈Users∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)">
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Users⊆waiting∪passengers"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·priority(w)≤priority(u)">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·⊤⇒⊤∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/grd2/GRD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p1"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5,p2" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p1"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="gone_passengers⊆Users">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·u∈Users⇒w∈Users∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="waiting⊆Users">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Users⊆waiting∪passengers">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·⊤⇒⊤∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/act3/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·u∈Users⇒w∈Users∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∃u⦂Users·∀w⦂Users·⊤⇒⊤∧priority(w)≤priority(u)">
<org.eventb.core.prIdent name="Users" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u,w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p32">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u,w)" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p35,p36">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p13"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p47,p48,p49">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p4,p11,p13,p6,p7,p16,p8,p15,p10,p3,p1,p2,p5,p9,p23,p24,p25,p31,p32,p35,p36,p47,p48,p49,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p52">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p53">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p4,p11,p13,p6,p7,p16,p8,p15,p10,p3,p1,p2,p5,p9,p23,p24,p25,p31,p32,p35,p36,p47,p48,p49,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∀u⦂Users,w⦂Users·u∈waiting∧w∈waiting⇒u∈dom(priority)∧priority∈Users ⇸ ℤ∧w∈dom(priority)∧(priority(u)≥priority(w)∧priority(w)=priority(u)∧w≠u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="w∈waiting">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀u⦂Users,w⦂Users·u∈waiting∧w∈waiting⇒u∈dom(priority)∧priority∈Users ⇸ ℤ∧w∈dom(priority)∧(priority(u)≥priority(w)∧priority(w)=priority(u)∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="u∈Users">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="w∈dom(priority)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∀u⦂Users,w⦂Users·u∈waiting∧w∈waiting⇒u∈dom(priority)∧priority∈Users ⇸ ℤ∧w∈dom(priority)∧(priority(u)≥priority(w)∧priority(w)=priority(u)∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u∈dom(priority)∧priority∈Users ⇸ ℤ∧w∈dom(priority)∧(priority(u)≥priority(w)∧priority(w)=priority(u)∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="w∈Users">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="u∈waiting">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬⊥∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="w∈dom(f)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬w=u">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="priority(u)≥priority(w)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="priority(u)≥priority(w)∧priority(w)=priority(u)∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="u∈waiting∧w∈waiting⇒u∈dom(priority)∧priority∈Users ⇸ ℤ∧w∈dom(priority)∧(priority(u)≥priority(w)∧priority(w)=priority(u)∧¬w=u⇒u∈dom(f)∧f∈Users ⇸ ℤ∧w∈dom(f))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="priority∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="f∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="priority(w)=priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="Users"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF2/THM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="E,u,w,x,u0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p25">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p29,p30,p31"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (∀E·E⊆Users⇒(∃u·u∈E∧(∀w·w∈E⇒priority(w)≤priority(u))))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E,u)" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p38">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p41">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="p34">
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p34,p4">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst waiting)" org.eventb.core.prHyps="p4">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p49">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ hyp (∃u·u∈waiting∧(∀w·w∈waiting⇒priority(w)≤priority(u)))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52,p53">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prHypAction>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52,p53"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst {x ∣ x∈waiting∧priority(x)=priority(u)})" org.eventb.core.prHyps="p33">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p56">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p54,p60" org.eventb.core.prUnsel="p54">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∀x·¬(x∈waiting∧priority(x)=priority(u)))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prRule name="r14" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬¬([[0]]∈waiting∧priority([[0]])=priority(u))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r15" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ hyp mp ((∃x·x∈waiting∧priority(x)=priority(u))⇒(∃u0·u0∈waiting∧priority(u0)=priority(u)∧(∀w·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w))))" org.eventb.core.prHyps="p63">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p64">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst u)" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p67">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r13" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ hyp (∃u0·u0∈waiting∧priority(u0)=priority(u)∧(∀w·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w)))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p68,p69,p70">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prHypAction>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p68,p69,p70"/>
<org.eventb.core.prRule name="r16" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst u0)" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p71">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p68">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="p75">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p2,p7,p14,p25,p28,p32,p36,p52,p53,p68,p69,p70,p75">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p78">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p78" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="p79,p80">
<org.eventb.core.prRule name="r17" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="p2,p7,p14,p25,p28,p32,p36,p52,p53,p68,p69,p70,p75,p79,p80">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e2"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e3"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p4"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="x∈Users">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="w∈waiting">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users∧(∀u⦂Users·u∈E⇒u∈dom(f))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)">
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="x∈dom(priority)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="u0∈waiting">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="u∈Users">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="waiting⊆Users⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="(∃x⦂Users·¬¬(x∈waiting∧priority(x)=priority(u)))⇒(∃u0⦂Users·u0∈waiting∧priority(u0)=priority(u)∧(∀w⦂Users·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="priority(u0)=priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∃x⦂Users·x∈waiting∧priority(x)=priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="counter∈ℕ">
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="w∈dom(priority)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀E⦂ℙ(Users),u⦂Users·u∈E⇒(∀w⦂Users·w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority))"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="f(u0)&lt;f(w)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="priority(u0)≥priority(w)∧(priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w))">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="x∈waiting⇒x∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤∧(∀u⦂Users·u∈E⇒u∈dom(f))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="w∈Users">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊤⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="{x⦂Users·x∈waiting∧priority(x)=priority(u) ∣ x}⊆waiting∧¬{x⦂Users·x∈waiting∧priority(x)=priority(u) ∣ x}=(∅ ⦂ ℙ(Users))⇒(∃u0⦂Users·u0∈{x⦂Users·x∈waiting∧priority(x)=priority(u) ∣ x}∧(∀w⦂Users·w∈{x⦂Users·x∈waiting∧priority(x)=priority(u) ∣ x}∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="u∈waiting">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users∧(∀u⦂Users·u∈E⇒u∈dom(f))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users∧(∀u⦂Users·u∈E⇒u∈dom(f))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀E⦂ℙ(Users)·(∀u⦂Users·u∈E⇒u∈dom(f))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬⊥∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="w∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="u∈waiting∧priority(u)=priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="finished∈0 ‥ 1">
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬(∀x⦂Users·¬(x∈waiting∧priority(x)=priority(u)))⇒(∃u0⦂Users·u0∈waiting∧priority(u0)=priority(u)∧(∀w⦂Users·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="w∈waiting⇒priority(u0)≥priority(w)∧(priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w))">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="¬w=u0">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="u0∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u0)≥priority(w)∧(priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(u0)≥priority(w)∧(priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w))">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="priority(w)=priority(u0)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∃u0⦂Users·u0∈waiting∧priority(u0)=priority(u)∧(∀w⦂Users·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="⊤∧(∀w⦂Users·w∈waiting⇒priority(u0)≥priority(w)∧(priority(w)=priority(u0)∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="x∈waiting">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀x⦂Users·x∈waiting⇒x∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="priority∈Users ⇸ ℤ"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∀u⦂Users·u∈E⇒(∀w⦂Users·w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="⊤∧priority(u)=priority(u)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="priority(u0)≥priority(w)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="x∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u∈E⇒(∀w⦂Users·w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀w⦂Users·w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="(∃x⦂Users·x∈waiting∧priority(x)=priority(u))⇒(∃u0⦂Users·u0∈waiting∧priority(u0)=priority(u)∧(∀w⦂Users·w∈waiting∧priority(w)=priority(u)∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="w∈E⇒w∈dom(priority)∧priority∈Users ⇸ ℤ∧u∈dom(priority)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="Users"/>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="u">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e2" org.eventb.core.expression="u0">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prExpr>
<org.eventb.core.prExpr name="e4" org.eventb.core.expression="waiting"/>
<org.eventb.core.prExpr name="e3" org.eventb.core.expression="{x⦂Users·x∈waiting∧priority(x)=priority(u) ∣ x}">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prExpr>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r15" org.eventb.core.prRID="org.eventb.core.seqprover.impE:2"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r16" org.eventb.core.prRID="org.eventb.core.seqprover.exI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r14" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r17" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r13" org.eventb.core.prRID="org.eventb.core.seqprover.exF"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="E" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E)" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p9,p10">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p4,p1,p2,p7,p9,p10">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆(∅ ⦂ ℙ(Users))∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒(∅ ⦂ ℙ(Users×ℤ))(u)&lt;(∅ ⦂ ℙ(Users×ℤ))(w)))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬E=(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒(∅ ⦂ ℙ(Users×ℤ))(u)&lt;(∅ ⦂ ℙ(Users×ℤ))(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="E⊆(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆(∅ ⦂ ℙ(Users))∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒(∅ ⦂ ℙ(Users×ℤ))(u)&lt;(∅ ⦂ ℙ(Users×ℤ))(w)))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="E⊆(∅ ⦂ ℙ(Users))∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒(∅ ⦂ ℙ(Users×ℤ))(u)&lt;(∅ ⦂ ℙ(Users×ℤ))(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="E,w" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="Users" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E)" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p25,p26">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ hyp (inst E ∖ {u})" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p29">
<org.eventb.core.prHypAction name="DESELECT0" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ah (waiting=∅∨waiting≠∅)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p31">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prHyps="p31">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst u)" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p36">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38"/>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees w)" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p41,p42">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p44">
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="p42" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p46"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p42">
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48"/>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prPredRef name=".pred" org.eventb.core.prRef="p31"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="counter&lt;({u} ⩤ f)(w)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="E ∖ {u}⊆waiting∧¬E ∖ {u}=(∅ ⦂ ℙ(Users))⇒(∃u0⦂Users·u0∈E ∖ {u}∧(∀w⦂Users·w∈E ∖ {u}∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="w∈E∧¬w=u⇒counter&lt;(f{u ↦ counter})(w)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="counter&lt;f(w)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∃u0⦂Users·u0∈E∧(∀w⦂Users·w∈E∧¬w=u0⇒(f{u ↦ counter})(u0)&lt;(f{u ↦ counter})(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="E⊆waiting∪{u}∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u0⦂Users·u0∈E∧(∀w⦂Users·w∈E∧¬w=u0⇒(f{u ↦ counter})(u0)&lt;(f{u ↦ counter})(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="passengers⊆Users">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒counter&lt;(f{u ↦ counter})(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∪{u}∧E≠(∅ ⦂ ℙ(Users))⇒(∃u0⦂Users·u0∈E∧(∀w⦂Users·w∈E∧w≠u0⇒(f{u ↦ counter})(u0)&lt;(f{u ↦ counter})(w)))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∪{u}∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u0⦂Users·u0∈E∧(∀w⦂Users·w∈E∧¬w=u0⇒(f{u ↦ counter})(u0)&lt;(f{u ↦ counter})(w)))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬⊥∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="w∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬w=u">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="waiting=(∅ ⦂ ℙ(Users))∨waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬E=(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="gone_passengers⊆Users">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="E ∖ {u}⊆waiting∧¬E⊆{u}⇒(∃u0⦂Users·u0∈E ∖ {u}∧(∀w⦂Users·w∈E ∖ {u}∧¬w=u0⇒f(u0)&lt;f(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(passengers)">
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))">
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒(f{u ↦ counter})(u)&lt;(f{u ↦ counter})(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="counter&lt;(f{u ↦ counter})(w)">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="counter&lt;counter"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="E⊆waiting∪{u}">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬⊥⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u∈E">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀w⦂Users·w∈E∧¬w=u⇒counter&lt;(f{u ↦ counter})(w)">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="w=u">
<org.eventb.core.prIdent name="w" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="u"/>
<org.eventb.core.prExpr name="e1" org.eventb.core.expression="E ∖ {u}">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prExpr>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.exI"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.cut"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.allD"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="passengers'⊆Users∧card(passengers')≤n∧leaving_passengers'⊆passengers'">
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ ((∅ ⦂ ℙ(Users))∪passengers'∪(∅ ⦂ ℙ(Users)))⇒u∉dom(∅ ⦂ ℙ(Users×ℤ))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="leaving_passengers'⊆passengers'">
<org.eventb.core.prIdent name="leaving_passengers'" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="passengers'⊆Users"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="card(passengers')≤n">
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="leave_one/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p20,p17" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p36,p38">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="p" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u∈Users ∖ (waiting∪(passengers ∖ {p})∪gone_passengers∪{p})">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u∈Users ∖ (waiting∪(passengers ∖ {p})∪gone_passengers∪{p})⇒¬u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪(passengers ∖ {p})∪(gone_passengers∪{p}))⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪(passengers ∖ {p})∪gone_passengers∪{p})⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="⊤∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="p∈leaving_passengers"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p14,p22,p13" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="p14,p22,p12,p13" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p40"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u)" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p44">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p3,p7,p9,p5,p17,p12,p19,p11,p20,p15,p1,p2,p16,p6,p13,p21,p18,p14,p31,p32,p33,p34,p35,p36,p42,p44">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ ((waiting ∖ {waiting_user})∪passengers∪{waiting_user}∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ ((waiting ∖ {waiting_user})∪(passengers∪{waiting_user})∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="⊤⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="u∈Users ∖ ((waiting ∖ {waiting_user})∪passengers∪{waiting_user}∪gone_passengers)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="u∈Users ∖ ((waiting ∖ {waiting_user})∪passengers∪{waiting_user}∪gone_passengers)⇒¬u∈dom(f)">
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((⊤∧⊤⇒⊤)∧((⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧w≠waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one_waiting/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="u0" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="p17,p18" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="HIDE5" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE6" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees u0)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p4,p12,p14,p7,p8,p17,p9,p16,p10,p3,p1,p2,p5,p11,p21,p26,p27,p28,p29,p30,p36,p38">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="u" org.eventb.core.type="Users"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="f∈Users ⇸ ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒¬u∈dom(f)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="u0∈Users ∖ (waiting∪{u}∪passengers∪gone_passengers)">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀u⦂Users·u∈dom(f)⇒counter&gt;f(u)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀u⦂Users·u∈Users ∖ (waiting∪passengers∪gone_passengers)⇒u∉dom(f)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀u0⦂Users·u0∈Users ∖ (waiting∪{u}∪passengers∪gone_passengers)⇒¬u0∈dom(f{u ↦ counter})"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬u0∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒w∈dom(f)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨⊤∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀u⦂Users,v⦂Users·u∈dom(f)∧v∈dom(f)∧¬u=v⇒¬f(u)=f(v)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="u0∈Users ∖ (waiting∪{u}∪passengers∪gone_passengers)⇒¬u0∈dom(f{u ↦ counter})">
<org.eventb.core.prIdent name="u0" org.eventb.core.type="Users"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Users ∖ (waiting∪passengers∪gone_passengers)≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀u⦂Users·∀v⦂Users·u∈dom(f)∧v∈dom(f)∧u≠v⇒f(u)≠f(v)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Users⊆waiting∪passengers∪gone_passengers"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀u0⦂Users·u0∈Users ∖ ((waiting∪{u})∪passengers∪gone_passengers)⇒u0∉dom(f{u ↦ counter})"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="u∈Users ∖ (waiting∪passengers∪gone_passengers)"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="enter_one/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="E" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="p20,p16,p17" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="p20,p16,p15,p17" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees E)" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p37,p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p3,p10,p12,p5,p6,p15,p8,p14,p9,p2,p1,p17,p11,p7,p20,p26,p27,p28,p29,p35,p37,p38">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="counter" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="f" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="finished" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting_user" org.eventb.core.type="Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finished∈0 ‥ 1"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="n∈ℕ"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬E=(∅ ⦂ ℙ(Users))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="gone_passengers⊆Users"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧¬w=waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(Users)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="priority∈Users → ℕ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting ∖ {waiting_user}∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="gone_passengers∩waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="card(passengers)&lt;n"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="⊤⇒(∃u⦂Users·∀w⦂Users·u∈waiting∧(w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧w≠u⇒f(u)&lt;f(w))))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="leaving_passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting ∖ {waiting_user}∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="counter∈ℕ"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="card(passengers)≤n"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="E⊆waiting ∖ {waiting_user}∧¬E=(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧¬w=u⇒f(u)&lt;f(w)))">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀w⦂Users·w∈waiting⇒priority(w)≤priority(waiting_user)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="E⊆waiting ∖ {waiting_user}">
<org.eventb.core.prIdent name="E" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="leaving_passengers⊆passengers"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="gone_passengers∩passengers=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="waiting_user∈waiting"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤∧(⊥∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((⊤∧⊤⇒⊤)∧((⊤∧⊤∧⊤)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(⊤⇒⊤)))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬waiting=(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="waiting≠(∅ ⦂ ℙ(Users))"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∃u⦂Users·u∈waiting∧(∀w⦂Users·w∈waiting⇒priority(u)≥priority(w)∧(priority(w)=priority(u)∧¬w=u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆waiting∧E≠(∅ ⦂ ℙ(Users))⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E∧w≠u⇒f(u)&lt;f(w)))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀w⦂Users·w∈waiting∧priority(w)=priority(waiting_user)∧w≠waiting_user⇒f(waiting_user)&lt;f(w)"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p2" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="DLF1/THM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Users">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p4">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="leaving_passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="n" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="passengers" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prIdent name="waiting" org.eventb.core.type="ℙ(Users)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="∀E⦂ℙ(Users)·∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀E⦂ℙ(Users)·⊤⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀E⦂ℙ(Users)·E⊆Users⇒(∃u⦂Users·u∈E∧(∀w⦂Users·w∈E⇒priority(w)≤priority(u)))">
<org.eventb.core.prIdent name="priority" org.eventb.core.type="ℙ(Users×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(passengers)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="waiting⊆Users"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users ∖ passengers=(∅ ⦂ ℙ(Users))))"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="gone_passengers⊆Users">
<org.eventb.core.prIdent name="gone_passengers" org.eventb.core.type="ℙ(Users)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="passengers⊆Users"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="leaving_passengers≠(∅ ⦂ ℙ(Users))∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒finite(passengers))∧((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨Users ∖ (waiting∪passengers)≠(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒finite(passengers))))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬leaving_passengers=(∅ ⦂ ℙ(Users))∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧¬waiting=(∅ ⦂ ℙ(Users))∧card(passengers)&lt;n)∨¬Users⊆waiting∪passengers∨(leaving_passengers=(∅ ⦂ ℙ(Users))∧(card(passengers)=n∨Users⊆passengers))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∨((leaving_passengers=(∅ ⦂ ℙ(Users))∧waiting≠(∅ ⦂ ℙ(Users))⇒⊤)∧(⊥∨⊥∨(leaving_passengers=(∅ ⦂ ℙ(Users))⇒⊤)))"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
</org.eventb.core.prFile>
